sap.ui.define(["sap/ui/core/mvc/ControllerExtension","sap/m/MessageToast"],function(e,o){"use strict";return e.extend("zcapexapprover.ext.controller.CapexObjectPageCustom",{override:{onInit:function(){var e=this.base.getExtensionAPI().getModel()},routing:{onAfterBinding:async function(e){if(!e){return}try{const o=this.base.getExtensionAPI(),t=o.getModel(),s=o,n="getMessages",i=t.bindContext(`/${n}(...)`),a={N:{type:sap.ui.core.MessageType.Information,key:"isInProgress"},X:{type:sap.ui.core.MessageType.Error,key:"notes"},I:{type:sap.ui.core.MessageType.Warning,key:"isRejectionIncomplete"},D:{type:sap.ui.core.MessageType.Warning,key:"isDraft"},R:{type:sap.ui.core.MessageType.None,key:"isRejectionFinal"},A:{type:sap.ui.core.MessageType.Success,key:"isApproved"}};debugger;const c=t.bindContext(e.getPath());c.requestObject().then(e=>{const o=s.getModel("i18n").getResourceBundle();const t=e["status"];if(t&&a[t]){const{type:n,key:i}=a[t];const c=i==="notes"?e[i]:o.getText(i);const r=new sap.ui.core.message.Message({type:n,message:c});s.showMessages([r])}})}catch(e){console.error("You should have no error",e.message)}}}},customApprove:async function(e){debugger;try{let o="CapexApproverCatalogService.approve";let t={contexts:e,model:e.oModel,label:"Confirm",invocationGrouping:true};const s=await this.base.editFlow.invokeAction(o,t);debugger;const n=this.base.getExtensionAPI();const i=n.getRouting();i.navigateToRoute("CapexList");console.log("customApprove")}catch(e){if(e.message!=="Dialog cancelled"){console.log("Error in Approval Process: "+e.message)}}},customReject:async function(e){debugger;try{let o="CapexApproverCatalogService.rejectFinal2";let t={contexts:e,model:e.oModel,label:"Confirm",invocationGrouping:true};const s=await this.base.editFlow.invokeAction(o,t);debugger;const n=this.base.getExtensionAPI();const i=n.getRouting();i.navigateToRoute("CapexList");console.log("customReject")}catch(e){console.log("Error in Rejection Process: "+e.message)}},customSkip:async function(e){debugger;try{let o="CapexApproverCatalogService.validate";let t={contexts:e,model:e.oModel,label:"Confirm",invocationGrouping:true};const s=await this.base.editFlow.invokeAction(o,t);debugger;const n=this.base.getExtensionAPI();const i=n.getRouting();i.navigateToRoute("CapexList");console.log("customSkip")}catch(e){console.log("Error in Skip Process: "+e.message)}}})});
//# sourceMappingURL=CapexObjectPageCustom.controller.js.map